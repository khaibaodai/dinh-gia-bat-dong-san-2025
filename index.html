<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneS | C√¥ng C·ª• ƒê·ªãnh Gi√° BƒêS Vi·ªát Nam 2025</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;padding:10px}
        .container{max-width:1200px;margin:0 auto;background:#fff;border-radius:15px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.1)}
        .header{background:linear-gradient(135deg,#2c3e50,#3498db);color:#fff;padding:20px;text-align:center}
        .header h1{font-size:1.8em;margin-bottom:5px}
        .main{display:grid;grid-template-columns:1fr 1fr;gap:20px;padding:20px}
        .form-section{background:#f8f9fa;padding:20px;border-radius:10px}
        .result-section{padding:20px;border:1px solid #e9ecef;border-radius:10px}
        .form-group{margin-bottom:12px}
        .form-group label{display:block;margin-bottom:3px;font-weight:600;color:#2c3e50;font-size:14px}
        .form-group input,.form-group select{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;font-size:14px}
        .form-group input:focus,.form-group select:focus{outline:none;border-color:#3498db}
        .btn{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;padding:10px;border:none;border-radius:5px;font-size:14px;font-weight:600;cursor:pointer;width:100%;margin-top:10px}
        .btn:hover{transform:translateY(-1px)}
        .result-card{background:linear-gradient(135deg,#27ae60,#2ecc71);color:#fff;padding:15px;border-radius:8px;text-align:center;margin-bottom:15px;display:none}
        .result-card .price{font-size:1.8em;font-weight:bold}
        .result-card .sub{font-size:1em;opacity:0.9;margin-top:5px}
        .factors{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:15px}
        .factor{background:#f8f9fa;padding:8px;border-radius:5px;border-left:3px solid #3498db;font-size:13px}
        .factor strong{color:#2c3e50;display:block}
        .factor-value{color:#27ae60;font-weight:bold}
        .chart{margin:15px 0;padding:15px;background:#f8f9fa;border-radius:8px}
        .chart-bar{display:flex;align-items:center;margin:8px 0}
        .chart-label{width:80px;font-size:12px;font-weight:600}
        .chart-progress{flex:1;height:20px;background:#e9ecef;border-radius:10px;margin:0 8px;overflow:hidden}
        .chart-fill{height:100%;border-radius:10px;transition:width 0.5s}
        .chart-value{font-size:12px;font-weight:bold;min-width:70px;text-align:right}
        .recommendation{background:linear-gradient(135deg,#f39c12,#e67e22);color:#fff;padding:15px;border-radius:8px;margin:15px 0;display:none}
        .recommendation h4{margin-bottom:8px}
        .alert{padding:12px;margin:10px 0;border-radius:5px;border-left:4px solid #3498db;background:#d1ecf1;color:#0c5460;font-size:14px}
        .loading{display:none;text-align:center;padding:20px}
        .spinner{border:3px solid #f3f3f3;border-top:3px solid #3498db;border-radius:50%;width:30px;height:30px;animation:spin 1s linear infinite;margin:0 auto 10px}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
        .tabs{display:flex;border-bottom:2px solid #e9ecef;margin-bottom:15px}
        .tab{padding:8px 16px;background:none;border:none;cursor:pointer;font-weight:600;color:#7f8c8d;border-bottom:2px solid transparent}
        .tab.active{color:#3498db;border-bottom:2px solid #3498db}
        .tab-content{display:none}
        .tab-content.active{display:block}
        .market{background:linear-gradient(135deg,#9b59b6,#8e44ad);color:#fff;padding:15px;border-radius:8px;margin:15px 0}
        .trend{margin:8px 0;padding:8px;background:rgba(255,255,255,0.1);border-radius:4px;font-size:13px}
        .footer{background:#2c3e50;color:#fff;padding:15px;text-align:center;font-size:13px}
        @media(max-width:768px){.main{grid-template-columns:1fr}.factors{grid-template-columns:1fr}}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† C√¥ng C·ª• ƒê·ªãnh Gi√° BƒêS Vi·ªát Nam 2025</h1>
            <p>ƒê·ªãnh gi√° ch√≠nh x√°c v·ªõi d·ªØ li·ªáu th·ªã tr∆∞·ªùng c·∫≠p nh·∫≠t - V≈© Tr·ªçng Kh·∫£i - 0902 79 8800</p>
        </div>

        <div class="main">
            <div class="form-section">
                <h3>üìã Th√¥ng Tin BƒêS</h3>
                <form id="form">
                    <div class="form-group">
                        <label>Lo·∫°i BƒêS *</label>
                        <select id="type" required>
                            <option value="">Ch·ªçn lo·∫°i</option>
                            <option value="nha_pho">Nh√† ph·ªë</option>
                            <option value="chung_cu">Chung c∆∞</option>
                            <option value="biet_thu">Bi·ªát th·ª±</option>
                            <option value="dat_nen">ƒê·∫•t n·ªÅn</option>
                            <option value="shophouse">Shophouse</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>T·ªânh/TP *</label>
                        <select id="province" required>
                            <option value="">Ch·ªçn t·ªânh</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Qu·∫≠n/Huy·ªán *</label>
                        <select id="district" required>
                            <option value="">Ch·ªçn qu·∫≠n</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Di·ªán t√≠ch (m¬≤) *</label>
                        <input type="number" id="area" min="1" required>
                    </div>
                    <div class="form-group">
                        <label>M·∫∑t ti·ªÅn (m)</label>
                        <input type="number" id="frontage" min="0" step="0.1">
                    </div>
                    <div class="form-group">
                        <label>Tu·ªïi c√¥ng tr√¨nh</label>
                        <input type="number" id="age" min="0" max="100">
                    </div>
                    <div class="form-group">
                        <label>Ph√°p l√Ω</label>
                        <select id="legal">
                            <option value="1.0">S·ªï ƒë·ªè</option>
                            <option value="0.95">S·ªï h·ªìng</option>
                            <option value="0.85">Gi·∫•y t·ªù kh√°c</option>
                            <option value="0.7">Ch∆∞a c√≥ s·ªï</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>H∆∞·ªõng nh√†</label>
                        <select id="direction">
                            <option value="1.1">ƒê√¥ng Nam</option>
                            <option value="1.05">Nam</option>
                            <option value="1.0">ƒê√¥ng</option>
                            <option value="0.95">B·∫Øc</option>
                            <option value="0.9">T√¢y</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>V·ªã tr√≠ ƒë∆∞·ªùng</label>
                        <select id="road">
                            <option value="1.2">M·∫∑t ti·ªÅn l·ªõn</option>
                            <option value="1.1">ƒê∆∞·ªùng ch√≠nh</option>
                            <option value="1.0">ƒê∆∞·ªùng n·ªôi b·ªô</option>
                            <option value="0.8">H·∫ªm xe h∆°i</option>
                            <option value="0.7">H·∫ªm nh·ªè</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>T√¨nh tr·∫°ng</label>
                        <select id="condition">
                            <option value="1.1">M·ªõi x√¢y</option>
                            <option value="1.0">T·ªët</option>
                            <option value="0.95">Kh√°</option>
                            <option value="0.85">Trung b√¨nh</option>
                            <option value="0.7">C·∫ßn s·ª≠a</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">üîç ƒê·ªãnh Gi√°</button>
                </form>
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>ƒêang t√≠nh to√°n...</p>
                </div>
            </div>

            <div class="result-section">
                <div class="tabs">
                    <button class="tab active" onclick="showTab('result')">K·∫øt Qu·∫£</button>
                    <button class="tab" onclick="showTab('analysis')">Ph√¢n T√≠ch</button>
                    <button class="tab" onclick="showTab('market')">Th·ªã Tr∆∞·ªùng</button>
                </div>

                <div id="result" class="tab-content active">
                    <div class="alert">
                        <strong>üí° H∆∞·ªõng d·∫´n:</strong> ƒêi·ªÅn th√¥ng tin b√™n tr√°i ƒë·ªÉ ƒë·ªãnh gi√°
                    </div>
                    <div class="result-card" id="priceCard">
                        <h3>üí∞ Gi√° Tr·ªã ∆Ø·ªõc T√≠nh</h3>
                        <div class="price" id="totalPrice">0 VNƒê</div>
                        <div class="sub" id="pricePerM2">0 VNƒê/m¬≤</div>
                    </div>
                    <div class="chart" id="chartDiv" style="display:none">
                        <h4>üìä So S√°nh Gi√°</h4>
                        <div id="chart"></div>
                    </div>
                    <div class="recommendation" id="advice">
                        <h4>üéØ Khuy·∫øn Ngh·ªã</h4>
                        <p id="adviceText"></p>
                    </div>
                </div>

                <div id="analysis" class="tab-content">
                    <h3>üîç Ph√¢n T√≠ch Chi Ti·∫øt</h3>
                    <div class="factors" id="factors"></div>
                </div>

                <div id="market" class="tab-content">
                    <div class="market">
                        <h4>üìà Th·ªã Tr∆∞·ªùng 2025</h4>
                        <div class="trend"><strong>TƒÉng tr∆∞·ªüng:</strong> 8-12% so v·ªõi 2024</div>
                        <div class="trend"><strong>Khu v·ª±c hot:</strong> TP.HCM, H√† N·ªôi, ƒê√† N·∫µng</div>
                        <div class="trend"><strong>Xu h∆∞·ªõng:</strong> CƒÉn h·ªô cao c·∫•p, shophouse</div>
                        <div class="trend"><strong>L√£i su·∫•t:</strong> 8-10%/nƒÉm</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p><strong>C√¥ng C·ª• ƒê·ªãnh Gi√° BƒêS 2025</strong> - K·∫øt qu·∫£ mang t√≠nh tham kh·∫£o</p>
        </div>
    </div>

    <script>
        // Database gi√° BƒêS 2025
        const db = {
            "TP. H·ªì Ch√≠ Minh": {
                "Qu·∫≠n 1": 600000000, "Qu·∫≠n 2": 110000000, "Th√†nh ph·ªë Th·ªß ƒê·ª©c": 80000000,
                "Qu·∫≠n 3": 450000000, "Qu·∫≠n 4": 350000000, "Qu·∫≠n 5": 320000000,
                "Qu·∫≠n 6": 280000000, "Qu·∫≠n 7": 200000000, "Qu·∫≠n 8": 180000000,
                "Qu·∫≠n 10": 400000000, "Qu·∫≠n 11": 300000000, "Qu·∫≠n 12": 120000000,
                "Qu·∫≠n B√¨nh Th·∫°nh": 250000000, "Qu·∫≠n G√≤ V·∫•p": 200000000,
                "Qu·∫≠n Ph√∫ Nhu·∫≠n": 380000000, "Qu·∫≠n T√¢n B√¨nh": 320000000,
                "Qu·∫≠n T√¢n Ph√∫": 220000000, "Qu·∫≠n B√¨nh T√¢n": 150000000,
                "Huy·ªán H√≥c M√¥n": 80000000, "Huy·ªán C·ªß Chi": 60000000,
                "Huy·ªán Nh√† B√®": 70000000, "Huy·ªán C·∫ßn Gi·ªù": 30000000
            },
            "H√† N·ªôi": {
                "Qu·∫≠n Ho√†n Ki·∫øm": 900000000, "Qu·∫≠n Ba ƒê√¨nh": 420000000,
                "Qu·∫≠n ƒê·ªëng ƒêa": 350000000, "Qu·∫≠n Hai B√† Tr∆∞ng": 320000000,
                "Qu·∫≠n Ho√†ng Mai": 200000000, "Qu·∫≠n Thanh Xu√¢n": 280000000,
                "Qu·∫≠n C·∫ßu Gi·∫•y": 300000000, "Qu·∫≠n Nam T·ª´ Li√™m": 180000000,
                "Qu·∫≠n B·∫Øc T·ª´ Li√™m": 160000000, "Qu·∫≠n H√† ƒê√¥ng": 140000000,
                "Qu·∫≠n Long Bi√™n": 120000000, "Qu·∫≠n T√¢y H·ªì": 250000000
            },
            "ƒê√† N·∫µng": {
                "Qu·∫≠n H·∫£i Ch√¢u": 200000000, "Qu·∫≠n Thanh Kh√™": 150000000,
                "Qu·∫≠n S∆°n Tr√†": 180000000, "Qu·∫≠n Ng≈© H√†nh S∆°n": 160000000,
                "Qu·∫≠n Li√™n Chi·ªÉu": 100000000, "Qu·∫≠n C·∫©m L·ªá": 90000000,
                "Huy·ªán H√≤a Vang": 60000000, "Huy·ªán Ho√†ng Sa": 50000000
            },
            "H·∫£i Ph√≤ng": {"Trung t√¢m": 140000000},
            "C·∫ßn Th∆°": {"Trung t√¢m": 135000000},
            "V≈©ng T√†u": {"Trung t√¢m": 120000000},
            "Nha Trang": {"Trung t√¢m": 100000000},
            "Hu·∫ø": {"Trung t√¢m": 80000000},
            "Bi√™n H√≤a": {"Trung t√¢m": 70000000},
            "Th·ªß D·∫ßu M·ªôt": {"Trung t√¢m": 65000000},
            "Bu√¥n Ma Thu·ªôt": {"Trung t√¢m": 45000000},
            "Quy Nhon": {"Trung t√¢m": 55000000},
            "Pleiku": {"Trung t√¢m": 35000000},
            "Vinh": {"Trung t√¢m": 40000000},
            "H·∫° Long": {"Trung t√¢m": 90000000},
            "B·∫Øc Ninh": {"Trung t√¢m": 60000000},
            "Vi·ªát Tr√¨": {"Trung t√¢m": 35000000},
            "Th√°i Nguy√™n": {"Trung t√¢m": 40000000},
            "Nam ƒê·ªãnh": {"Trung t√¢m": 30000000},
            "H·∫£i D∆∞∆°ng": {"Trung t√¢m": 35000000},
            "Ninh B√¨nh": {"Trung t√¢m": 25000000}
        };

        const typeMultiplier = {
            nha_pho: 1.0, chung_cu: 0.8, biet_thu: 1.5, 
            dat_nen: 0.7, shophouse: 1.3
        };

        // Kh·ªüi t·∫°o dropdown
        function init() {
            const provinceSelect = document.getElementById('province');
            Object.keys(db).forEach(province => {
                const option = document.createElement('option');
                option.value = province;
                option.textContent = province;
                provinceSelect.appendChild(option);
            });

            provinceSelect.addEventListener('change', function() {
                const districtSelect = document.getElementById('district');
                districtSelect.innerHTML = '<option value="">Ch·ªçn qu·∫≠n</option>';

                if (this.value && db[this.value]) {
                    Object.keys(db[this.value]).forEach(district => {
                        const option = document.createElement('option');
                        option.value = district;
                        option.textContent = district;
                        districtSelect.appendChild(option);
                    });
                }
            });
        }

        // T√≠nh gi√°
        function calculate(data) {
            const basePrice = db[data.province]?.[data.district] || 50000000;
            const typeMult = typeMultiplier[data.type] || 1.0;
            const legal = parseFloat(data.legal) || 1.0;
            const direction = parseFloat(data.direction) || 1.0;
            const road = parseFloat(data.road) || 1.0;
            const condition = parseFloat(data.condition) || 1.0;

            const age = parseInt(data.age) || 0;
            const ageFactor = age > 0 ? Math.max(0.5, 1.0 - (age * 0.01)) : 1.0;

            const frontage = parseFloat(data.frontage) || 0;
            const frontageFactor = frontage > 0 ? 1.0 + (frontage * 0.02) : 1.0;

            const pricePerM2 = basePrice * typeMult * legal * direction * road * condition * ageFactor * frontageFactor;
            const totalPrice = pricePerM2 * parseFloat(data.area);

            return {
                total: totalPrice,
                perM2: pricePerM2,
                base: basePrice,
                factors: {
                    'Lo·∫°i BƒêS': typeMult,
                    'Ph√°p l√Ω': legal,
                    'H∆∞·ªõng nh√†': direction,
                    'V·ªã tr√≠ ƒë∆∞·ªùng': road,
                    'T√¨nh tr·∫°ng': condition,
                    'Tu·ªïi c√¥ng tr√¨nh': ageFactor,
                    'M·∫∑t ti·ªÅn': frontageFactor
                }
            };
        }

        // Format ti·ªÅn
        function formatMoney(amount) {
            if (amount >= 1000000000) {
                return (amount / 1000000000).toFixed(1) + ' t·ª∑ VNƒê';
            } else if (amount >= 1000000) {
                return (amount / 1000000).toFixed(0) + ' tri·ªáu VNƒê';
            }
            return amount.toLocaleString('vi-VN') + ' VNƒê';
        }

        // Hi·ªÉn th·ªã k·∫øt qu·∫£
        function showResult(result, data) {
            document.getElementById('priceCard').style.display = 'block';
            document.getElementById('totalPrice').textContent = formatMoney(result.total);
            document.getElementById('pricePerM2').textContent = formatMoney(result.perM2) + '/m¬≤';

            // Bi·ªÉu ƒë·ªì
            const chartDiv = document.getElementById('chartDiv');
            const chart = document.getElementById('chart');
            chartDiv.style.display = 'block';
            chart.innerHTML = '';

            const comparisons = [
                {label: 'Gi√° c∆° s·ªü', value: result.base, color: '#3498db'},
                {label: 'Gi√° th·ª±c t·∫ø', value: result.perM2, color: '#2ecc71'},
                {label: 'TB khu v·ª±c', value: result.base * 0.9, color: '#f39c12'}
            ];

            const maxValue = Math.max(...comparisons.map(c => c.value));

            comparisons.forEach(comp => {
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                const percentage = (comp.value / maxValue) * 100;
                bar.innerHTML = `
                    <div class="chart-label">${comp.label}</div>
                    <div class="chart-progress">
                        <div class="chart-fill" style="width:${percentage}%;background:${comp.color}"></div>
                    </div>
                    <div class="chart-value">${formatMoney(comp.value)}</div>
                `;
                chart.appendChild(bar);
            });

            // Ph√¢n t√≠ch
            const factors = document.getElementById('factors');
            factors.innerHTML = '';
            Object.entries(result.factors).forEach(([key, value]) => {
                const factor = document.createElement('div');
                factor.className = 'factor';
                const impact = value > 1 ? '+' + ((value - 1) * 100).toFixed(1) + '%' : 
                              value < 1 ? ((value - 1) * 100).toFixed(1) + '%' : '0%';
                factor.innerHTML = `<strong>${key}</strong><span class="factor-value">${impact}</span>`;
                factors.appendChild(factor);
            });

            // Khuy·∫øn ngh·ªã
            const advice = document.getElementById('advice');
            const adviceText = document.getElementById('adviceText');
            advice.style.display = 'block';

            if (result.perM2 > 300000000) {
                adviceText.textContent = 'üî• Khu v·ª±c cao c·∫•p - Ti·ªÅm nƒÉng tƒÉng gi√° ·ªïn ƒë·ªãnh, ph√π h·ª£p ƒë·∫ßu t∆∞ d√†i h·∫°n.';
            } else if (result.perM2 > 100000000) {
                adviceText.textContent = 'üìà Khu v·ª±c ph√°t tri·ªÉn - C∆° h·ªôi ƒë·∫ßu t∆∞ t·ªët, c√≥ th·ªÉ tƒÉng gi√° 2-3 nƒÉm t·ªõi.';
            } else {
                adviceText.textContent = 'üí° Khu v·ª±c m·ªõi n·ªïi - Gi√° h·ª£p l√Ω, ph√π h·ª£p mua ·ªü ho·∫∑c ƒë·∫ßu t∆∞ ng·∫Øn h·∫°n.';
            }
        }

        // X·ª≠ l√Ω form
        document.getElementById('form').addEventListener('submit', function(e) {
            e.preventDefault();

            const data = {
                type: document.getElementById('type').value,
                province: document.getElementById('province').value,
                district: document.getElementById('district').value,
                area: document.getElementById('area').value,
                frontage: document.getElementById('frontage').value,
                age: document.getElementById('age').value,
                legal: document.getElementById('legal').value,
                direction: document.getElementById('direction').value,
                road: document.getElementById('road').value,
                condition: document.getElementById('condition').value
            };

            if (!data.type || !data.province || !data.district || !data.area) {
                alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc!');
                return;
            }

            document.getElementById('loading').style.display = 'block';

            setTimeout(() => {
                const result = calculate(data);
                showResult(result, data);
                document.getElementById('loading').style.display = 'none';
            }, 1000);
        });

        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Kh·ªüi t·∫°o
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
